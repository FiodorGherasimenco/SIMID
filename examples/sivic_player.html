<html>
<head>
  <title> A very simple SIVIC player</title>
  <script src="sivic_constants.js"></script>
  <script src="sivic_protocol.js"></script>

<script>
  // Only the player should generate the session ID.
  sivic_protocol.generateSessionId();
  const targetForPostMessage = document.getElementById('sivic_creative').contentWindow;
  sivic_protocol.setMessageTarget(targetForPostMessage);
  function receiveMessage(event)
  {
    // Recieves messages from the SIVIC creative.
    console.log(event.data);
  }
  window.addEventListener("message", receiveMessage, false);
</script>

</head>

<body>
  <div>
    <video src="http://dl3.webmfiles.org/big-buck-bunny_trailer.webm"> </video>
    <iframe id="sivic_creative" src="sivic_overlay.html"/>
  </div>
<body>

</html>